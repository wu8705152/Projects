<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<title>æ’é¢æ‹¼è²¼ç”¢ç”Ÿå™¨</title>

<style>
body {
    user-select: none; /* ç¦ç”¨æ•´å€‹ç¶²é çš„æ–‡å­—é¸å–åŠŸèƒ½ */
    -webkit-user-select: none; /* é‡å° Safari ç€è¦½å™¨ */
    -moz-user-select: none; /* é‡å° Firefox ç€è¦½å™¨ */
    -ms-user-select: none; /* é‡å° IE/Edge ç€è¦½å™¨ */
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    color: #333;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 20px;
}

.warning-banner {
    position: fixed;/*sticky*/
    top: 0;
    left: 0;
    width: 100%;
    background-color: #ff9800; /* æº«å’Œçš„æ©˜è‰² */
    color: white;
    text-align: center;
    padding: 8px 0;
    font-size: 16px;
    font-weight: bold;
    z-index: 1000;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    display: none; /* é è¨­éš±è— */
}

.warning-banner .close-btn {
    position: absolute; /* æ–°å¢æ­¤è¡Œ */
    right: 10px; /* è·é›¢å³å´ 10px */
    top: 50%;
    transform: translateY(-50%);
    font-size: 20px;
    line-height: 1;
    cursor: pointer; /* é¡¯ç¤ºæ‰‹å½¢æ¸¸æ¨™ */
    padding: 0 5px; /* å¢åŠ é»æ“Šç¯„åœ */
    user-select: none; /* é˜²æ­¢é¸ä¸­æ–‡å­— */
}

/* æ–°å¢çš„ CSS: åœ¨å½ˆå‡ºè¦–çª—é–‹å•Ÿæ™‚ï¼Œé–å®šèƒŒæ™¯æ»¾å‹• */
body.no-scroll {
    overflow: hidden;
}

.container {
    background-color: #fff;
    padding: 20px 40px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
    width: 90%;
    max-width: 900px;
    box-sizing: border-box;
    flex-grow: 1; 
}

h1 {
    color: #0056b3;
    display: flex; /* è®“ h1 å…§å®¹å’ŒæŒ‰éˆ•ä¸¦æ’ */
    justify-content: center;
    align-items: center;
}
.cloud-icon {
   font-size: 20px;
   color: #007bff;
   margin-left: 10px;
   align-self: center; /* è®“åœ–ç¤ºèˆ‡ h1 å…§å®¹å‚ç›´å°é½Š */
}

/* é è¨­éš±è—ï¼Œç­‰å¾… JS å•Ÿç”¨ */
.cloud-icon.hidden {
   display: none;
}
.info-icon {
    margin-left: 10px;
    background-color: #007bff;
    color: white;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    font-size: 16px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: background-color 0.3s;
    user-select: none; /* é˜²æ­¢æ–‡å­—è¢«é¸å– */
}

.info-icon:hover {
    background-color: #0056b3;
}

.controls {
    margin-bottom: 20px;
}

#photoInputsContainer {
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap; 
    justify-content: center;
    gap: 20px;
    padding-right: 15px; 
}

.photo-uploader, #addPhotoBlock {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 5px;
    padding: 15px;
    border: 1px dashed #aaa; 
    border-radius: 5px;
    background-color: #f9f9f9;
    width: 45%; 
}

#addPhotoBlock {
    cursor: pointer;
    justify-content: center; 
    align-items: center; 
    font-size: 50px;
    color: #ccc;
    user-select: none; 
    transition: transform 0.2s ease-in-out, color 0.2s ease-in-out;
    border: 2px dashed #ccc;
}

#addPhotoBlock:hover {
    transform: scale(1.05);
    color: #999;
}

.delete-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    background-color: #dc3545;
    color: white;
    border: none;
    border-radius: 50%; 
    width: 28px;
    height: 28px;
    padding: 0;
    line-height: 1;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.photo-uploader .delete-btn:hover {
    background-color: #c82333;
}

input[type="text"], input[type="file"], select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
}

/* éš±è—åŸæœ¬çš„æª”æ¡ˆä¸Šå‚³æŒ‰éˆ• */
.photo-input {
    display: none;
}
/*loading*/
/* Loading æç¤º */
.photo-loader {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 30px;
    height: 30px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #3498db;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    z-index: 10;
}

.photo-loader.hidden {
    display: none;
}

/* å‹•ç•«æ•ˆæœ */
@keyframes spin {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

/* åœ–ç‰‡é è¦½å®¹å™¨çš„åŸºæœ¬æ¨£å¼ */
.photo-preview-container {
    position: relative;
    width: 100%;
    height: 150px; /* å›ºå®šé«˜åº¦ï¼Œç¢ºä¿æ‰€æœ‰é è¦½æ¡†ä¸€è‡´ */
    
    border: 2px dashed #ccc;
    border-radius: 5px;
    overflow: hidden;
    
    display: flex;
    justify-content: center;
    align-items: center;
    
    margin-top: 10px;
    background-color: #e9e9e9;
    cursor: pointer;
}

/* åœ–ç‰‡é è¦½çš„æ¨£å¼ - é¡¯ç¤ºå®Œæ•´åœ–ç‰‡ */
.photo-preview-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
}

/* ä¸Šå‚³å‰ç›¸æ©Ÿåœ–ç¤ºå’Œæ–‡å­—çš„æ¨£å¼ */
.photo-placeholder-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 20px;
    text-align: center;
}

.camera-icon {
    font-size: 48px;
    line-height: 1;
}

.photo-preview-text {
    color: #888;
    font-size: 14px;
}

/* RETAKE æç¤ºå±¤çš„æ¨£å¼ - è²¼é½Šåº•éƒ¨ä¸¦å–®è¡Œé¡¯ç¤º */
.photo-retake-overlay {
    position: absolute;
    bottom: 0; /* é—œéµä¿®æ”¹ï¼šå¾ top: 0 æ”¹ç‚º bottom: 0 */
    left: 0;
    width: 100%;
    
    /* èª¿æ•´é«˜åº¦ï¼Œåªå¤ å®¹ç´ä¸€è¡Œæ–‡å­—å’Œåœ–æ¨™ */
    height: 30px; 
    
    /* é—œéµä¿®æ”¹ï¼šæ–°å¢èƒŒæ™¯è‰²å’Œæ–‡å­—æ¨£å¼ */
    background-color: rgba(0, 0, 0, 0.4);
    color: white;
    font-size: 14px;
    font-weight: bold;
    
    display: flex;
    justify-content: center; /* è®“å…§å®¹æ°´å¹³ç½®ä¸­ */
    align-items: center; /* è®“å…§å®¹å‚ç›´ç½®ä¸­ */
    
    pointer-events: auto; /* ç¢ºä¿æç¤ºå±¤å¯ä»¥é»æ“Š */
}

.photo-retake-overlay .camera-icon {
    font-size: 14px; /* ç¸®å°åœ–æ¨™å¤§å°ä»¥é©æ‡‰æ–°é«˜åº¦ */
    margin-right: 5px; /* åœ–æ¨™èˆ‡æ–‡å­—é–“è· */
}


/* ç¢ºä¿ä¸Šå‚³åœ–ç‰‡å¾Œï¼Œæç¤ºæ–‡å­—è¢«éš±è— */
.photo-preview-container:has(.photo-preview-image) .photo-placeholder-content {
    display: none;
}

.signature-section {
    margin: 20px 0;
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 8px;
    border: 1px solid #ddd;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

#signatureCanvas {
    width: 100%; 
    max-width: 400px;
    height: 150px;
    background-color: #fff;
    border-radius: 5px;
    display: block; 
    margin: 0 auto; 
    transition: all 0.3s ease;
}

/* ç¦ç”¨ç‹€æ…‹çš„æ¨£å¼ */
#signatureCanvas.disabled {
    pointer-events: none;
    opacity: 0.5;
    cursor: default;
    border: 2px dashed #ccc;
    background-color: #e9e9e9;
}

/* å•Ÿç”¨ç‹€æ…‹çš„æ¨£å¼ */
#signatureCanvas.active {
    pointer-events: auto;
    opacity: 1;
    cursor: crosshair;
    border: 2px solid #007bff;
    background-color: #fff;
}

.signature-controls {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    gap: 10px;
}

.action-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 10px;
}

button {
    padding: 12px 24px;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
    margin: 5px;
}

#combineBtn { background-color: #007bff; }
#combineBtn:hover { background-color: #0056b3; }

#enableSignatureBtn { background-color: #28a745; }
#enableSignatureBtn:hover { background-color: #218838; }
.button-disabled {
    background-color: #ccc;
    color: #666;
    cursor: not-allowed;
    border-color: #999;
}

#clearSignatureBtn { background-color: #dc3545; }
#clearSignatureBtn:hover { background-color: #c82333; }


.output-section {
    margin-top: 20px;
    display: none;
}

#finalImage {
    max-width: 100%;
    height: auto;
    border: 2px solid #ccc;
    display: none; 
    margin: 20px auto 0;
}

#photoCanvas {
    display: none; 
}

.photo-alert {
    color: red;
    font-size: 14px;
    font-weight: bold;
    margin-top: 5px;
}
.hidden {
    display: none !important;
}

footer {
    margin-top: 20px;
    font-size: 12px;
    color: #777;
    text-align: center;
}

@media (max-width: 500px) {
    .container {
        padding: 20px 15px;
        width: 95%;
    }
    .photo-uploader, #addPhotoBlock {
        width: 100%; 
        max-width: 350px; 
    }
    .action-buttons {
        flex-direction: column;
        gap: 10px;
    }
}
footer {
    margin-top: 20px;
    font-size: 12px;
    color: #777;
    text-align: center;
}

@media (max-width: 600px) {
    .container {
        padding: 20px 15px;
    }
    .photo-uploader, #addPhotoBlock {
        width: 100%;
    }
    .action-buttons {
        flex-direction: column;
        gap: 10px;
    }
}
h2 {
    white-space: nowrap; 
    font-size: clamp(20px, 2vw, 24px); 
}

footer{
    color: #c4c1c1;
}

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-overlay.visible {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 8px;
    position: relative;
    width: 90%;
    max-width: 500px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    text-align: left;
    transform: translateY(-20px);
    transition: transform 0.3s ease;
    max-height: 80vh; 
    overflow-y: auto; 
    -webkit-overflow-scrolling: touch; 
}

.modal-overlay.visible .modal-content {
    transform: translateY(0);
}

.modal-content h2 {
    margin-top: 0;
    font-size: 24px;
    color: #0056b3;
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
}

.modal-content p {
    line-height: 1.6;
}

.modal-content ul {
    margin-top: 10px;
    padding-left: 20px;
}

.close-button {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 28px;
    color: #aaa;
    cursor: pointer;
    transition: color 0.3s;
}

.close-button:hover {
    color: #333;
}
.photo-tip {
    color: #888;
    font-size: 14px;
    margin-top: 5px;
    text-align: center;
}

/* æ–°å¢é–‹é—œæ¨£å¼ */
.option-toggle-container {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
}

.toggle-label {
    font-size: 16px;
    color: #555;
    user-select: none; /* é¿å…æ–‡å­—è¢«é¸å– */
}

/* é–‹é—œä¸»é«” */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 48px;
    height: 28px;
}

/* éš±è—é è¨­çš„ input */
.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* æ»‘å‹•è»Œé“ */
.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 28px;
}

/* æ»‘å‹•åœ“é» */
.slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

/* å•Ÿç”¨æ™‚çš„æ¨£å¼ */
input:checked + .slider {
    background-color: #2196F3;
}

input:focus + .slider {
    box-shadow: 0 0 1px #2196F3;
}

/* å•Ÿç”¨æ™‚åœ“é»å‘å³ç§»å‹• */
input:checked + .slider:before {
    transform: translateX(20px);
}
</style>
</head>
<body>
<div class="warning-banner" id="warningBanner">
    ç…§ç‰‡å°šæœªå„²å­˜ï¼Œé›¢é–‹é é¢å°‡æœƒéºå¤±ã€‚
    <span class="close-btn">&times;</span>
</div>
    <div class="container">
        <h1>æ’é¢æ‹¼è²¼ç…§ç”¢ç”Ÿå™¨<span id="infoBtn" class="info-icon">!</span></h1>
        <span id="cloudIcon" class="cloud-icon hidden">â˜ï¸</span>
        <div class="controls">
            <label for="className">ç­åˆ¥:</label>
            <input list="classSuggestions" id="className" placeholder="è«‹è¼¸å…¥ç­åˆ¥">
            <datalist id="classSuggestions">
                <option value="æ—©ç­"></option>
                <option value="æ™šç­"></option>
                <option value="å¤œç­"></option>
            </datalist>
        </div>

        <div class="option-toggle-container">
            <label class="toggle-switch">
                <input type="checkbox" id="cameraToggle" checked>
                <span class="slider"></span>
            </label>
            <span class="toggle-label" id="toggleLabel">ç”¨ç›¸æ©Ÿæ‹ç…§</span>
        </div>
        <div id="photoInputsContainer">
            <div class="add-photo-block" id="addPhotoBlock">
                <div class="add-button">
                    <span id="addIcon" class="add-icon">ğŸ“¸</span>
                    <div class="add-text">æ–°å¢ç…§ç‰‡</div>
                    <p class="photo-tip">ç…§ç‰‡æš«å­˜åœ¨ç€è¦½å™¨ä¸­ï¼Œè‹¥é‡æ–°æ•´ç†æˆ–é—œé–‰ç¶²é ï¼Œç…§ç‰‡å°±æœƒæ¶ˆå¤±ï¼Œè«‹å¤šåŠ ç•™æ„ï¼</p>
                </div>
            </div>
        </div>

        <div class="signature-section">
            <h2>ç°½å (å¯é¸)</h2>
            <canvas id="signatureCanvas" class="disabled"></canvas>
            <div class="signature-controls">
                <button id="enableSignatureBtn">å•Ÿç”¨ç°½å</button>
                <button id="clearSignatureBtn">æ¸…é™¤ç°½å</button>
            </div>
        </div>

        <div class="action-buttons">
            <button id="combineBtn">åˆä½µä¸¦ç”Ÿæˆç…§ç‰‡</button>
        </div>

        <div class="output-section" id="output-section">
            <h2>ç…§ç‰‡é è¦½(é•·æŒ‰orå³éµå„²å­˜ç›¸ç‰‡)</h2>
            <canvas id="photoCanvas" width="2000" height="1400"></canvas>
            <img id="finalImage" alt="åˆæˆæ’é¢ç…§ç‰‡">
        </div>
        
<div id="infoModal" class="modal-overlay">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>é‹ä½œåŸç†èˆ‡ç†å¿µ</h2>
        <p>æœ¬ç¶²é å°ˆç‚ºé›¶å”®æ¥­äº¤ç­è¨­è¨ˆï¼Œæ“ä½œç°¡å–®ï¼Œèƒ½å¤§å¹…æ¸›å°‘æ‹¼è²¼æ‰€èŠ±çš„æ™‚é–“ã€‚é›–ç„¶å·²æœ‰å¹³æ¿æ•¸ä½äº¤ç­ç³»çµ±ï¼Œä½†è¨±å¤šåº—é»ä»è¦æ±‚å“¡å·¥æ‹æ”æ’é¢ç…§ç‰‡ä¸¦ä¸Šå‚³ç¾¤çµ„ï¼Œå¸¸å°è‡´æ‰‹æ©Ÿå…§ç›¸ç‰‡è¶Šå­˜è¶Šå¤šã€‚</p>
        <p>ç‚ºè§£æ±ºé€™å€‹å•é¡Œï¼Œæœ¬ç¶²é æœƒå…ˆå°‡äº¤ç­ç…§ç‰‡è‡ªå‹•åˆæˆï¼Œä¹‹å¾Œä½¿ç”¨è€…å¯ä¾éœ€æ±‚é¸æ“‡ï¼š</p>
        <ul>
            <li><strong>å„²å­˜æ–¼ç›¸ç°¿ï¼š</strong>åƒ…ä¿ç•™æœ€çµ‚çš„ä¸€å¼µåˆæˆç…§ç‰‡ï¼Œé¿å…æ‰‹æ©Ÿç©ºé–“è¢«å¤§é‡ä½”ç”¨ã€‚</li>
            <li><strong>ç›´æ¥åˆ†äº«è‡³å·¥ä½œç¾¤çµ„ï¼š</strong>å…å»é¡å¤–å­˜æª”æ­¥é©Ÿï¼Œè®“äº¤ç­æµç¨‹æ›´è¼•é¬†æœ‰æ•ˆç‡ã€‚</li>
        </ul>
        <p><em>âš ï¸ æœ¬ç¶²é ç‚ºä½æˆæœ¬è£½ä½œï¼Œæ¶è¨­æ–¼ GitHub Pagesï¼Œå› æ­¤ç„¡æ³•ä¿è­‰åœ¨å¤šäººåŒæ™‚ä½¿ç”¨æ™‚ç¶²é æµé‡ä¸æœƒå—å½±éŸ¿ã€‚</em></p>
    </div>
</div>

</div>
<footer>
    <p>Copyright Â© 2025 Edward. All rights reserved.</p>
    <p>åœ¨ Gemini çš„å”åŠ©ä¸‹å®Œæˆã€‚</p>
    <p><strong>å…è²¬è²æ˜ï¼š</strong>æœ¬ç¶²é åƒ…ä½œç‚ºåœ–ç‰‡è™•ç†å·¥å…·ï¼Œä¾›å€‹äººä½¿ç”¨ï¼Œä¸æä¾›æª”æ¡ˆå„²å­˜æˆ–å‚™ä»½æœå‹™ã€‚ä½¿ç”¨è€…é ˆè‡ªè¡Œç¢ºä¿æ‰€ä¸Šå‚³å…§å®¹ä¹‹åˆæ³•æ€§èˆ‡æ­£ç¢ºæ€§ã€‚æœ¬ç¶²é åŠé–‹ç™¼è€…å°æ–¼å› ä½¿ç”¨æœ¬ç¶²é æ‰€ç”¢ç”Ÿæˆ–å¼•ç™¼ä¹‹ä»»ä½•å¾Œæœï¼Œæ¦‚ä¸è² è²¬ã€‚</p>
</footer>
</div>
<script type="module" src="photo_v2@3.js"></script>
</body>
</html>
